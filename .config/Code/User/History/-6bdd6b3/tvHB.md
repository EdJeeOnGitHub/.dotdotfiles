# Water Meta-Analysis

Code for the water treatment and child survival meta-analysis paper by Kremer, 
Tan, Maertens, Luby.

## Code Checks


### `data_prep.R`

Inputs: `data/summary_data.csv`
Outputs:
Runs: Yes
Notes: sourced by `bayes_priors_v2.R`

### `bayes.R`

Inputs: `data_prep.R`, `helpers.R`
Outputs: `analysis_output/stan/bg_{loo,none,loo_full,subsets}.rds`

Runs: Yes (I think, didn't wait for every model to fit)
Notes:

### `bayes_priors_v2.R`

Inputs: `data_prep.R`, `helpers.R`
Outputs: `analysis_output/stan/bg_alt_priors_8mar2022.rds`
Notes: `bayes_v2.R` should be run before this file.

### `cea.R`


Inputs: `prepare_models.R`, `simulations/check-multiplication-model.R`, `analysis_output/stan/bg_alt_priors_8mar2022.rds`
Outputs:

Notes:

### `generate_outputs.R`

This file doesn't load any data but needs to be sourced by another file as it's using objects such as `Individual_estimates_peto`. However, I can't see any file that sources `generate_outputs.R`

witold_check

### `inclusion_exclusion_analysis.R`

Inputs: `data/Wolf et al studies.xlsx`

Runs: Yes


### `prepare_models.R`

Inputs: `data_prep.R`, `helpers.R`, 

Runs: Not sure, need to install some packages that require installing non-R package dependencies on linux - will check this evening (31 Mar).

## Directory Structure


### `analysis_output/`

Contains output from analysis files.
- Has subfolders `figures/`, `stan/`, and `tables`.

### `data/`
- `individual_mortality_data.Rda` is generated by XYZ, it has N rows and 
N columns. It contains data on...
- `summary_daya.csv` is generated by XYZ. It has N rows and ...
- `Wolf et al studies.xlsx` contains data from Wolf TODO.


### `mortality_counts/`

Mortality data from each study can be found here in its own sub-directory.


`mortality_time_trends.csv` creates the mortality figures in `analysis_output/figures/`.


### `Publication_bias/`


### `simulations/`


